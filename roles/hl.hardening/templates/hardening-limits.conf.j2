{{ ansible_managed | comment }}
# Generated by Ansible role {{ ansible_role_name }}

# 4096 is a good starting point
*      soft   nofile    4096
*      hard   nofile    {{ limits_user_hard_nofile }}
*      soft   nproc     4096
*      hard   nproc     {{ limits_user_hard_nproc }}
*      soft   locks     4096
*      hard   locks     4096
*      soft   stack     10240
*      hard   stack     32768
*      -      maxlogins 50

# Soft limit 64GB, hard 64GB
*      soft   fsize     {{ limits_user_hard_fsize }}
*      hard   fsize     {{ limits_user_hard_fsize }}

# Disable core dumps for all users
*      hard   core      0
root   hard   core      0

# Defaults
*      soft   memlock   64
*      hard   memlock   64

# Limits for root
root   soft   nofile    4096
root   hard   nofile    {{ limits_root_hard_nofile }}
root   soft   nproc     4096
root   hard   nproc     {{ limits_root_hard_nproc }}
root   soft   stack     10240
root   hard   stack     32768
root   soft   fsize     {{ limits_root_hard_fsize }}
root   hard   fsize     {{ limits_root_hard_fsize }}